<template>
  <div id="logo_box">
    <canvas
      id="dde_logo"
      width="400"
      height="400"
      @mouseenter="isSpinning = true"
      @mouseleave="isSpinning = false"
    ></canvas>
  </div>
</template>

<script>
import Zdog from "zdog";

export default {
  name: "Logo",
  data: function () {
    return {
      isSpinning: false,
    };
  },
  methods: {
    draw() {
      let illo = new Zdog.Illustration({
        element: "#dde_logo",
        dragRotate: false,
        scale: 0.8,
        translate: { z: 0, x: -130, y: -150 },
        rotate: { z: 0, y: -0.4, x: 0 },
      });

      var logo = new Zdog.Anchor({
        addTo: illo,
        translate: { z: 0, x: 0, y: 0 },
      });

      var d2_anchor = new Zdog.Anchor({
        addTo: illo,
        translate: { x: 165, y: 31.5, z: 0 },
      });

      var d1_anchor = new Zdog.Anchor({
        addTo: illo,
        translate: { x: 165, y: -40, z: 0 },
      });

      var e_anchor = new Zdog.Anchor({
        addTo: illo,
        translate: { x: 165, y: 80, z: 0 },
      });

      // z-shape
      let e = new Zdog.Shape({
        addTo: e_anchor,
        path: [
          { x: 0, y: 122.005792427063 },
          { x: 0, y: 131.99626414501108 },
          { x: 0, y: 142.00404397584498 },
          { x: 0, y: 151.99918067455292 },
          { x: 8.185481323104796, y: 153.3703718008581 },
          { x: 18.02920026391748, y: 151.67867462575433 },
          { x: 27.58038261865877, y: 148.71428112650608 },
          { x: 36.65532063017727, y: 144.53141910810828 },
          { x: 45.10429044698995, y: 139.20770559126814 },
          { x: 52.795913553358695, y: 132.83402846443497 },
          { x: 59.60546431875555, y: 125.5155254092184 },
          { x: 65.41004422679543, y: 117.38124491199852 },
          { x: 70.11145896911621, y: 108.5597568511963 },
          { x: 73.62282776573866, y: 99.19898003151448 },
          { x: 75.8801975697219, y: 89.46695531458263 },
          { x: 76.85630981065607, y: 79.51973725966837 },
          { x: 76.55242332752552, y: 69.53319867636766 },
          { x: 74.96570671082736, y: 59.669437502634544 },
          { x: 72.10483432657057, y: 50.08894489056402 },
          { x: 68.0226532523011, y: 40.97498261970032 },
          { x: 62.787441129330546, y: 32.46506821596995 },
          { x: 56.48502626761474, y: 24.69381177171745 },
          { x: 49.249595080787, y: 17.817820397490326 },
          { x: 41.16832082392648, y: 11.920834232587369 },
          { x: 32.402912790980196, y: 7.129100973811002 },
          { x: 23.090152589544413, y: 3.520839771196006 },
          { x: 13.383278977125883, y: 1.1582709662616255 },
          { x: 3.436831133380474, y: 0.07526551367336652 },
          { x: 0, y: 6.550422639772296 },
          { x: 0, y: 16.551985904574394 },
          { x: 0, y: 26.548876762390137 },
          { x: 4.745421925268602, y: 32.04701598566025 },
          { x: 14.48482645517215, y: 34.18168690055609 },
          { x: 23.520976635119588, y: 38.43069322060328 },
          { x: 31.39688610594021, y: 44.56666066069156 },
          { x: 37.734548463801914, y: 52.27003297919873 },
          { x: 42.23178461472271, y: 61.17945424746722 },
          { x: 34.11038271132857, y: 62.5 },
          { x: 24.09537333250046, y: 62.5 },
          { x: 14.099916745722293, y: 62.5 },
          { x: 4.09425550699234, y: 62.5 },
          { x: 0, y: 68.38989299256355 },
          { x: 0, y: 78.39692217130214 },
          { x: 0, y: 88.40492068529127 },
          { x: 9.802919515568647, y: 88.6 },
          { x: 19.808817448443733, y: 88.6 },
          { x: 29.79603508953005, y: 88.6 },
          { x: 39.79121446609497, y: 88.6 },
          { x: 41.46074303705245, y: 94.55019490607083 },
          { x: 36.57069248829502, y: 103.24796194513328 },
          { x: 29.88308634965506, y: 110.66106848319177 },
          { x: 21.728524047299288, y: 116.42581193721853 },
          { x: 12.519764558784662, y: 120.2396144669503 },
          { x: 2.674594223499298, y: 121.92207691669464 },
        ],
        closed: true,
        fill: true,
        stroke: 10,
        color: "white",
        translate: { x: 0, y: 0, z: 0 },
        rotate: { z: 0, y: 9.9, x: 0 },
      });

      // z-shape
      let d1 = new Zdog.Shape({
        addTo: d1_anchor,
        path: [
          { x: 0, y: 0.00581064224243164 },
          { x: 0, y: 10.005835150182246 },
          { x: 0, y: 19.998939444473944 },
          { x: 0, y: 30.00004167556763 },
          { x: 8.092860643565654, y: 32.321672124415635 },
          { x: 17.939335169446352, y: 34.007443799262 },
          { x: 27.48477617012395, y: 36.96470055635873 },
          { x: 36.55992174846506, y: 41.14087709181094 },
          { x: 45.01415679698948, y: 46.458400978371536 },
          { x: 52.71509412912128, y: 52.826411766013194 },
          { x: 59.536925135739146, y: 60.13979289559647 },
          { x: 65.35560372269248, y: 68.26951682813232 },
          { x: 70.06576054137587, y: 77.0737172252926 },
          { x: 73.59319186068606, y: 86.43023176958087 },
          { x: 75.86519605208596, y: 96.15871260058049 },
          { x: 76.85356112188602, y: 106.10308502202535 },
          { x: 76.55864174629389, y: 116.09086982963635 },
          { x: 74.97732115481813, y: 125.95780054762892 },
          { x: 72.12405980343465, y: 135.52839451084145 },
          { x: 68.04402647018433, y: 144.64786982536316 },
          { x: 62.80980343189149, y: 153.16416201633547 },
          { x: 56.51805617837927, y: 160.93206589259188 },
          { x: 49.28577721572947, y: 167.81745886335847 },
          { x: 41.221801181137565, y: 173.71703773811458 },
          { x: 32.452208423360204, y: 178.52779109658314 },
          { x: 23.151375269520212, y: 182.14812074839864 },
          { x: 13.431559075694167, y: 184.5287168162924 },
          { x: 3.5059432126439787, y: 185.6213182939735 },
          { x: 0, y: 192.19389128554607 },
          { x: 0, y: 202.1872875617584 },
          { x: 0, y: 212.1885998368263 },
          { x: 4.598845669701404, y: 217.50462001256673 },
          { x: 14.560740502605586, y: 216.63462815242033 },
          { x: 24.389495919769434, y: 214.85709851669722 },
          { x: 34.029124355118256, y: 212.17498362084152 },
          { x: 43.36268664233194, y: 208.61926232494608 },
          { x: 52.334620527886734, y: 204.2144818559653 },
          { x: 60.87004283835849, y: 198.99876355359592 },
          { x: 68.88052235634841, y: 193.03122159002504 },
          { x: 76.31498066578915, y: 186.35505166406818 },
          { x: 83.12174668312073, y: 179.0140260219574 },
          { x: 89.21339718063591, y: 171.1027816254902 },
          { x: 94.56121906932003, y: 162.65814264867893 },
          { x: 99.11399930443967, y: 153.74945990863833 },
          { x: 102.82117858003531, y: 144.4686890669569 },
          { x: 105.65274278922152, y: 134.8923479636185 },
          { x: 107.59139068228689, y: 125.07618423002276 },
          { x: 108.61856403570418, y: 115.13817665953393 },
          { x: 108.7395999843784, y: 105.13897946873385 },
          { x: 107.9555505490951, y: 95.17467560983224 },
          { x: 106.26060520527226, y: 85.31738342610461 },
          { x: 103.66461367121137, y: 75.66464585026898 },
          { x: 100.18694182531908, y: 66.29282666342334 },
          { x: 95.85656853896671, y: 57.278026406291076 },
          { x: 90.72268808392108, y: 48.712179045949604 },
          { x: 84.82291052736855, y: 40.648595603784095 },
          { x: 78.19597183922306, y: 33.14177748421208 },
          { x: 70.92815730922885, y: 26.287335441047624 },
          { x: 63.054563455784226, y: 20.117257504665762 },
          { x: 54.658567323873285, y: 14.700079503247984 },
          { x: 45.79399228524562, y: 10.073891614192693 },
          { x: 36.5526925058919, y: 6.289635250146969 },
          { x: 26.990837277706305, y: 3.3724001961309122 },
          { x: 17.20439700335992, y: 1.3518818482829378 },
          { x: 7.27007276612112, y: 0.23890659856388094 },
        ],
        closed: true,
        fill: true,
        stroke: 12,
        color: "#43318d",
        translate: { z: 0, y: 0, x: 0 },
        rotate: { z: 0, y: 9.9, x: 0 },
        scale: 1.8,
      });

      // z-shape
      let d2 = new Zdog.Shape({
        addTo: d2_anchor,
        path: [
          { x: 0, y: 0.00581064224243164 },
          { x: 0, y: 10.005835150182246 },
          { x: 0, y: 19.998939444473944 },
          { x: 0, y: 30.00004167556763 },
          { x: 8.092860643565654, y: 32.321672124415635 },
          { x: 17.939335169446352, y: 34.007443799262 },
          { x: 27.48477617012395, y: 36.96470055635873 },
          { x: 36.55992174846506, y: 41.14087709181094 },
          { x: 45.01415679698948, y: 46.458400978371536 },
          { x: 52.71509412912128, y: 52.826411766013194 },
          { x: 59.536925135739146, y: 60.13979289559647 },
          { x: 65.35560372269248, y: 68.26951682813232 },
          { x: 70.06576054137587, y: 77.0737172252926 },
          { x: 73.59319186068606, y: 86.43023176958087 },
          { x: 75.86519605208596, y: 96.15871260058049 },
          { x: 76.85356112188602, y: 106.10308502202535 },
          { x: 76.55864174629389, y: 116.09086982963635 },
          { x: 74.97732115481813, y: 125.95780054762892 },
          { x: 72.12405980343465, y: 135.52839451084145 },
          { x: 68.04402647018433, y: 144.64786982536316 },
          { x: 62.80980343189149, y: 153.16416201633547 },
          { x: 56.51805617837927, y: 160.93206589259188 },
          { x: 49.28577721572947, y: 167.81745886335847 },
          { x: 41.221801181137565, y: 173.71703773811458 },
          { x: 32.452208423360204, y: 178.52779109658314 },
          { x: 23.151375269520212, y: 182.14812074839864 },
          { x: 13.431559075694167, y: 184.5287168162924 },
          { x: 3.5059432126439787, y: 185.6213182939735 },
          { x: 0, y: 192.19389128554607 },
          { x: 0, y: 202.1872875617584 },
          { x: 0, y: 212.1885998368263 },
          { x: 4.598845669701404, y: 217.50462001256673 },
          { x: 14.560740502605586, y: 216.63462815242033 },
          { x: 24.389495919769434, y: 214.85709851669722 },
          { x: 34.029124355118256, y: 212.17498362084152 },
          { x: 43.36268664233194, y: 208.61926232494608 },
          { x: 52.334620527886734, y: 204.2144818559653 },
          { x: 60.87004283835849, y: 198.99876355359592 },
          { x: 68.88052235634841, y: 193.03122159002504 },
          { x: 76.31498066578915, y: 186.35505166406818 },
          { x: 83.12174668312073, y: 179.0140260219574 },
          { x: 89.21339718063591, y: 171.1027816254902 },
          { x: 94.56121906932003, y: 162.65814264867893 },
          { x: 99.11399930443967, y: 153.74945990863833 },
          { x: 102.82117858003531, y: 144.4686890669569 },
          { x: 105.65274278922152, y: 134.8923479636185 },
          { x: 107.59139068228689, y: 125.07618423002276 },
          { x: 108.61856403570418, y: 115.13817665953393 },
          { x: 108.7395999843784, y: 105.13897946873385 },
          { x: 107.9555505490951, y: 95.17467560983224 },
          { x: 106.26060520527226, y: 85.31738342610461 },
          { x: 103.66461367121137, y: 75.66464585026898 },
          { x: 100.18694182531908, y: 66.29282666342334 },
          { x: 95.85656853896671, y: 57.278026406291076 },
          { x: 90.72268808392108, y: 48.712179045949604 },
          { x: 84.82291052736855, y: 40.648595603784095 },
          { x: 78.19597183922306, y: 33.14177748421208 },
          { x: 70.92815730922885, y: 26.287335441047624 },
          { x: 63.054563455784226, y: 20.117257504665762 },
          { x: 54.658567323873285, y: 14.700079503247984 },
          { x: 45.79399228524562, y: 10.073891614192693 },
          { x: 36.5526925058919, y: 6.289635250146969 },
          { x: 26.990837277706305, y: 3.3724001961309122 },
          { x: 17.20439700335992, y: 1.3518818482829378 },
          { x: 7.27007276612112, y: 0.23890659856388094 },
        ],
        closed: true,
        fill: true,
        stroke: 12,
        color: "#d83f87",
        translate: { z: 0, y: 0, x: 0 },
        rotate: { z: 0, y: 0.5, x: 0 },
        scale: 1.15,
      });

      // ----- animate ----- //
      function animate() {
        illo.updateRenderGraph();
        requestAnimationFrame(animate);
      }
      animate();

      const update = () => {
        e_anchor.rotate.y -= this.isSpinning ? 0.01 : 0;
        d2_anchor.rotate.y -= this.isSpinning ? -0.02 : 0;
        d1_anchor.rotate.y -= this.isSpinning ? 0.02 : 0;
        illo.updateRenderGraph();
        requestAnimationFrame(update);
        if (!this.isSpinning) {
          e_anchor.rotate.set({ y: 0 });
          d2_anchor.rotate.set({ y: 0 });
          d1_anchor.rotate.set({ y: 0 });
        }
      };

      update();
    },
  },
  mounted: function () {
    setTimeout(() => {
      this.draw();
    }, 500);
  },
};
</script>
